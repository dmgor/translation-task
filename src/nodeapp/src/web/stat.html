<!DOCTYPE html>
<html>
	<head>
		<title>Translation app</title>
		<link href="./css/bootstrap.min.css" rel="stylesheet" type="text/css">
	<script type="text/javascript">
	
		function submitTranslation(){
				
				var host="localhost";
				var PORT="8085";
				
				var text=document.getElementById('textInputField').value;
				var lang=document.getElementById('langInputField').value;
				
				var translationlink="http://"+host+":"+PORT+"/translate?text="+text+"&lang="+lang;
				
				console.log(translationlink)
				
				sendTranslationRequest(translationlink,function(responseText){document.getElementById("translationResult").innerHTML=responseText;});
		}
		
		
	function sendTranslationRequest(link, callbackFunc)
	{
		xmlHttp = new XMLHttpRequest();
		xmlHttp.open( "GET", link, true );
		xmlHttp.send();
		xmlHttp.onreadystatechange = function(){
	
		if (this.readyState==4) 
		{
		var resp = xmlHttp.responseText;
		callbackFunc(resp);
		
		}

		}
		document.getElementById("translationResult").innerHTML="Processing";
	}
		
	</script>
	</head>
	<body>
	<div class="container-fluid">
		<div class="row">
			
				<div class="col-xs-8">
					<h2 class="text-uppercase text-left">
					Translation app
					</h2>
				</div>
			<div class="col-xs12">
				<div class="col-xs-7">
					<div class="input-group">
						<span class="input-group-addon" >TEXT</span>
						<input id="textInputField" type="text" class="form-control" placeholder="Enter text here">
					</div>
				</div>
				<div class="col-xs-7">
					<div class="input-group">
						<span class="input-group-addon">LOCALE</span>
						<input id="langInputField" type="text" class="form-control" placeholder="Enter locale code here">
					</div>
				</div>
				  <div class="col-xs-7">
				  <button type="button"  class="btn btn-success btn-lg" id="submitTranslation" onclick=submitTranslation()>Translate!</button>
				  </div>
				  <div class="col-xs-8">
				   <h4 class="text text-left" id="translationResult"></h4>
				   </div>
				</div>
			</div>
		</div>
	</div>
